define("map/util",{linegradient:["rgba(114,118,121,0.8)","rgba(131,104,105,0.8)","rgba(149,50,50,0.8)","rgba(166,75,75,0.8)","rgba(184,62,58,0.8)","rgba(202,48,43,0.6)"],countryorder:["AFG","ALB","DZA","ASM","AND","AGO","AIA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHI","CHL","CHN","COL","COM","COD","COG","COK","CRI","CIV","HRV","CUB","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FRO","FLK","FJI","FIN","FRA","GUF","PYF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMY","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","PRK","KOR","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","ANT","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","REU","ROM","RUS","RWA","SHN","SPM","WSM","SMR","STP","SAU","SEN","SRB","SCG","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","ESP","LKA","KNA","LCA","VCT","SDN","SUR","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","URY","UZB","VUT","VEN","VNM","VIR","VGB","WLF","PSE","YEM","ZMB","ZWE"],countrycodes:[["Afghanistan","AFG"],["Albania","ALB"],["Algeria","DZA"],["American Samoa","ASM"],["Andorra","AND"],["Angola","AGO"],["Anguilla","AIA"],["Antarctica","ATA"],["Antigua and Barbuda","ATG"],["Argentina","ARG"],["Armenia","ARM"],["Aruba","ABW"],["Australia","AUS"],["Austria","AUT"],["Azerbaijan","AZE"],["Bahamas","BHS"],["Bahrain","BHR"],["Bangladesh","BGD"],["Barbados","BRB"],["Belarus","BLR"],["Belgium","BEL"],["Belize","BLZ"],["Benin","BEN"],["Bermuda","BMU"],["Bhutan","BTN"],["Bolivia","BOL"],["Bosnia and Herzegovina","BIH"],["Botswana","BWA"],["Bouvet Island","BVT"],["Brazil","BRA"],["British Indian Ocean Territory","IOT"],["Brunei Darussalam","BRN"],["Bulgaria","BGR"],["Burkina Faso","BFA"],["Burundi","BDI"],["Cambodia","KHM"],["Cameroon","CMR"],["Canada","CAN"],["Cape Verde","CPV"],["Cayman Islands","CYM"],["Central African Republic","CAF"],["Chad","TCD"],["Chile","CHL"],["China","CHN"],["Christmas Island","CXR"],["Cocos (Keeling) Islands","CCK"],["Colombia","COL"],["Comoros","COM"],["Republic of the Congo","COG"],["Democratic Republic of the Congo","COD"],["Cook Islands","COK"],["Costa Rica","CRI"],["Ivory Coast","CIV"],["Croatia","HRV"],["Cuba","CUB"],["Cyprus","CYP"],["Czech Republic","CZE"],["Denmark","DNK"],["Djibouti","DJI"],["Dominica","DMA"],["Dominican Republic","DOM"],["Ecuador","ECU"],["Egypt","EGY"],["El Salvador","SLV"],["Equatorial Guinea","GNQ"],["Eritrea","ERI"],["Estonia","EST"],["Ethiopia","ETH"],["Falkland Islands (Malvinas)","FLK"],["Faroe Islands","FRO"],["Fiji","FJI"],["Finland","FIN"],["France","FRA"],["French Guiana","GUF"],["French Polynesia","PYF"],["French Southern Territories","ATF"],["Gabon","GAB"],["Gambia","GMB"],["Georgia","GEO"],["Germany","DEU"],["Ghana","GHA"],["Gibraltar","GIB"],["Greece","GRC"],["Greenland","GRL"],["Grenada","GRD"],["Guadeloupe","GLP"],["Guam","GUM"],["Guatemala","GTM"],["Guernsey","GGY"],["Guinea","GIN"],["Guinea-Bissau","GNB"],["Guyana","GUY"],["Haiti","HTI"],["Heard Island and McDonald Islands","HMD"],["Holy See (Vatican City State)","VAT"],["Honduras","HND"],["Hong Kong","HKG"],["Hungary","HUN"],["Iceland","ISL"],["India","IND"],["Indonesia","IDN"],["Iran","IRN"],["Iraq","IRQ"],["Ireland","IRL"],["Isle of Man","IMN"],["Israel","ISR"],["Italy","ITA"],["Jamaica","JAM"],["Japan","JPN"],["Jersey","JEY"],["Jordan","JOR"],["Kazakhstan","KAZ"],["Kenya","KEN"],["Kiribati","KIR"],["North Korea","PRK"],["South Korea","KOR"],["Kuwait","KWT"],["Kyrgyzstan","KGZ"],["Laos","LAO"],["Latvia","LVA"],["Lebanon","LBN"],["Lesotho","LSO"],["Liberia","LBR"],["Libya","LBY"],["Liechtenstein","LIE"],["Lithuania","LTU"],["Luxembourg","LUX"],["Macao","MAC"],["Macedonia","MKD"],["Madagascar","MDG"],["Malawi","MWI"],["Malaysia","MYS"],["Maldives","MDV"],["Mali","MLI"],["Malta","MLT"],["Marshall Islands","MHL"],["Martinique","MTQ"],["Mauritania","MRT"],["Mauritius","MUS"],["Mayotte","MYT"],["Mexico","MEX"],["Micronesia, Federated States of","FSM"],["Moldova","MDA"],["Monaco","MCO"],["Mongolia","MNG"],["Montenegro","MNE"],["Montserrat","MSR"],["Morocco","MAR"],["Mozambique","MOZ"],["Myanmar","MMR"],["Namibia","NAM"],["Nauru","NRU"],["Nepal","NPL"],["Netherlands","NLD"],["Netherlands Antilles","ANT"],["New Caledonia","NCL"],["New Zealand","NZL"],["Nicaragua","NIC"],["Niger","NER"],["Nigeria","NGA"],["Niue","NIU"],["Norfolk Island","NFK"],["Northern Mariana Islands","MNP"],["Norway","NOR"],["Oman","OMN"],["Pakistan","PAK"],["Palau","PLW"],["Palestinian Territory, Occupied","PSE"],["Panama","PAN"],["Papua New Guinea","PNG"],["Paraguay","PRY"],["Peru","PER"],["Philippines","PHL"],["Pitcairn","PCN"],["Poland","POL"],["Portugal","PRT"],["Puerto Rico","PRI"],["Qatar","QAT"],["RÃ©union","REU"],["Romania","ROU"],["Russian Federation","RUS"],["Rwanda","RWA"],["Saint Helena, Ascension and Tristan da Cunha","SHN"],["Saint Kitts and Nevis","KNA"],["Saint Lucia","LCA"],["Saint Pierre and Miquelon","SPM"],["Saint Vincent and the Grenadines","VCT"],["Samoa","WSM"],["San Marino","SMR"],["Sao Tome and Principe","STP"],["Saudi Arabia","SAU"],["Senegal","SEN"],["Serbia","SRB"],["Seychelles","SYC"],["Sierra Leone","SLE"],["Singapore","SGP"],["Slovakia","SVK"],["Slovenia","SVN"],["Solomon Islands","SLB"],["Somalia","SOM"],["South Africa","ZAF"],["South Georgia and the South Sandwich Islands","SGS"],["Spain","ESP"],["Sri Lanka","LKA"],["Sudan","SDN"],["Suriname","SUR"],["Svalbard and Jan Mayen","SJM"],["Swaziland","SWZ"],["Sweden","SWE"],["Switzerland","CHE"],["Syria","SYR"],["Taiwan","TWN"],["Tajikistan","TJK"],["Tanzania","TZA"],["Thailand","THA"],["Timor-Leste","TLS"],["Togo","TGO"],["Tokelau","TKL"],["Tonga","TON"],["Trinidad and Tobago","TTO"],["Tunisia","TUN"],["Turkey","TUR"],["Turkmenistan","TKM"],["Turks and Caicos Islands","TCA"],["Tuvalu","TUV"],["Uganda","UGA"],["Ukraine","UKR"],["United Arab Emirates","ARE"],["United Kingdom","GBR"],["United States","USA"],["United States Minor Outlying Islands","UMI"],["Uruguay","URY"],["Uzbekistan","UZB"],["Vanuatu","VUT"],["Venezuela","VEN"],["Vietnam","VNM"],["Virgin Islands, British","VGB"],["Virgin Islands, U.S.","VIR"],["Wallis and Futuna","WLF"],["Western Sahara","ESH"],["Yemen","YEM"],["Zambia","ZMB"],["Zimbabwe","ZWE"]],positions:{ALB:[41,20],DZA:[28,3],CHI:[0,0],IMY:[0,0],KSV:[0,0],ASM:[-14.3333,-170],AND:[42.5,1.6],AGO:[-12.5,18.5],AIA:[18.25,-63.1667],ATA:[-90,0],ATG:[17.05,-61.8],ARG:[-34,-64],ARM:[40,45],ABW:[12.5,-69.9667],AUS:[-27,133],AUT:[47.3333,13.3333],AZE:[40.5,47.5],BHS:[24.25,-76],BHR:[26,50.55],BGD:[24,90],BRB:[13.1667,-59.5333],BLR:[53,28],BEL:[50.8333,4],BLZ:[17.25,-88.75],BEN:[9.5,2.25],BMU:[32.3333,-64.75],BTN:[27.5,90.5],BOL:[-17,-65],BIH:[44,18],BWA:[-22,24],BVT:[-54.4333,3.4],BRA:[-10,-55],IOT:[-6,71.5],BRN:[4.5,114.6667],BGR:[43,25],BFA:[13,-2],BDI:[-3.5,30],KHM:[13,105],CMR:[6,12],CAN:[60,-95],CPV:[16,-24],CYM:[19.5,-80.5],CAF:[7,21],TCD:[15,19],CHL:[-30,-71],CHN:[35,105],CXR:[-10.5,105.6667],CCK:[-12.5,96.8333],COL:[4,-72],COM:[-12.1667,44.25],COG:[-1,15],COD:[0,25],COK:[-21.2333,-159.7667],CRI:[10,-84],CIV:[8,-5],HRV:[45.1667,15.5],CUB:[21.5,-80],CYP:[35,33],CZE:[49.75,15.5],DNK:[56,10],DJI:[11.5,43],DMA:[15.4167,-61.3333],DOM:[19,-70.6667],ECU:[-2,-77.5],EGY:[27,30],SLV:[13.8333,-88.9167],GNQ:[2,10],ERI:[15,39],EST:[59,26],ETH:[8,38],FLK:[-51.75,-59],FRO:[62,-7],FJI:[-18,175],FIN:[64,26],FRA:[46,2],GUF:[4,-53],PYF:[-15,-140],ATF:[-43,67],GAB:[-1,11.75],GMB:[13.4667,-16.5667],GEO:[42,43.5],DEU:[51,9],GHA:[8,-2],GIB:[36.1833,-5.3667],GRC:[39,22],GRL:[72,-40],GRD:[12.1167,-61.6667],GLP:[16.25,-61.5833],GUM:[13.4667,144.7833],GTM:[15.5,-90.25],GGY:[49.5,-2.56],GIN:[11,-10],GNB:[12,-15],GUY:[5,-59],HTI:[19,-72.4167],HMD:[-53.1,72.5167],VAT:[41.9,12.45],HND:[15,-86.5],HKG:[22.25,114.1667],HUN:[47,20],ISL:[65,-18],IND:[20,77],IDN:[-5,120],IRN:[32,53],IRQ:[33,44],IRL:[53,-8],IMN:[54.23,-4.55],ISR:[31.5,34.75],ITA:[42.8333,12.8333],JAM:[18.25,-77.5],JPN:[36,138],JEY:[49.21,-2.13],JOR:[31,36],KAZ:[48,68],KEN:[1,38],KIR:[1.4167,173],PRK:[40,127],KOR:[37,127.5],KWT:[29.3375,47.6581],KGZ:[41,75],LAO:[18,105],LVA:[57,25],LBN:[33.8333,35.8333],LSO:[-29.5,28.5],LBR:[6.5,-9.5],LBY:[25,17],LIE:[47.1667,9.5333],LTU:[56,24],LUX:[49.75,6.1667],MAC:[22.1667,113.55],MKD:[41.8333,22],MDG:[-20,47],MWI:[-13.5,34],MYS:[2.5,112.5],MDV:[3.25,73],MLI:[17,-4],MLT:[35.8333,14.5833],MHL:[9,168],MTQ:[14.6667,-61],MRT:[20,-12],MUS:[-20.2833,57.55],MYT:[-12.8333,45.1667],MEX:[23,-102],FSM:[6.9167,158.25],MDA:[47,29],MCO:[43.7333,7.4],MNG:[46,105],MNE:[42,19],MSR:[16.75,-62.2],MAR:[32,-5],MOZ:[-18.25,35],MMR:[22,98],NAM:[-22,17],NRU:[-0.5333,166.9167],NPL:[28,84],NLD:[52.5,5.75],ANT:[12.25,-68.75],NCL:[-21.5,165.5],NZL:[-41,174],NIC:[13,-85],NER:[16,8],NGA:[10,8],NIU:[-19.0333,-169.8667],NFK:[-29.0333,167.95],MNP:[15.2,145.75],NOR:[62,10],OMN:[21,57],AFG:[20,57],PAK:[30,70],PLW:[7.5,134.5],PSE:[32,35.25],PAN:[9,-80],PNG:[-6,147],PRY:[-23,-58],PER:[-10,-76],PHL:[13,122],PCN:[-24.7,-127.4],POL:[52,20],PRT:[39.5,-8],PRI:[18.25,-66.5],QAT:[25.5,51.25],REU:[-21.1,55.6],ROU:[46,25],ROM:[46,25],RUS:[60,100],RWA:[-2,30],SHN:[-15.9333,-5.7],KNA:[17.3333,-62.75],LCA:[13.8833,-61.1333],SPM:[46.8333,-56.3333],VCT:[13.25,-61.2],WSM:[-13.5833,-172.3333],SMR:[43.7667,12.4167],STP:[1,7],SAU:[25,45],SEN:[14,-14],SRB:[44,21],SCG:[44,21],SYC:[-4.5833,55.6667],SLE:[8.5,-11.5],SGP:[1.3667,103.8],SVK:[48.6667,19.5],SVN:[46,15],SLB:[-8,159],SOM:[10,49],ZAF:[-29,24],SGS:[-54.5,-37],ESP:[40,-4],LKA:[7,81],SDN:[15,30],SUR:[4,-56],SJM:[78,20],SWZ:[-26.5,31.5],SWE:[62,15],CHE:[47,8],SYR:[35,38],TWN:[23.5,121],TJK:[39,71],TZA:[-6,35],THA:[15,100],TLS:[-8.55,125.5167],TGO:[8,1.1667],TKL:[-9,-172],TON:[-20,-175],TTO:[11,-61],TUN:[34,9],TUR:[39,35],TKM:[40,60],TCA:[21.75,-71.5833],TUV:[-8,178],UGA:[1,32],UKR:[49,32],ARE:[24,54],GBR:[54,-2],USA:[38,-97],UMI:[19.2833,166.6],URY:[-33,-56],UZB:[41,64],VUT:[-16,167],VEN:[8,-66],VNM:[16,106],VGB:[18.5,-64.5],VIR:[18.3333,-64.8333],WLF:[-13.3,-176.2],ESH:[24.5,-13],YEM:[15,48],ZMB:[-15,30],ZWE:[-20,30]}}),define("map/updateMap",["jquery","map/util"],function(e,n){function l(e,t,r,i){var s=n.countryorder[t],o=n.countryorder[Number(r)];e.push({origin:{latitude:n.positions[s][0],longitude:n.positions[s][1]},destination:{latitude:n.positions[o][0],longitude:n.positions[o][1]},options:{strokeWidth:2,strokeColor:p(i)}})}function c(e,t){var r=0,i=0,s;s=t.code.split(" / ");if(s.length===1)r=n.positions[s[0]][0],i=n.positions[s[0]][1];else{for(var o in s)r+=n.positions[s[o]][0],i+=n.positions[s[o]][1];r/=s.length,i/=s.length}e.push({name:t.name,size:t.size,start:t.start,end:t.end,latitude:r,longitude:i,radius:2*Math.log(t.size/(1+t.end-t.start)),fillKey:"defaultFill"})}function h(e){return 2}function p(e){var t;return e<=1e3?t=0:e<=5e3?t=1:e<=1e4?t=2:e<=5e4?t=3:e<=1e5?t=4:t=5,n.linegradient[t]}function d(e){return n.countryorder.indexOf(e)}function v(e){return global.migrationData[(e-1960)/10]}function m(e,n){var r=y(global.year),s=1e7,o=0,u=-1;for(var a=0;a<n;a++){for(i in v(r)[e])t=v(r)[e][i],parseInt(t)>parseInt(o)&&parseInt(t)<parseInt(s)&&(o=t);s=o,t=0,o=0}return parseInt(s)}function g(e,n){var r=y(global.year),s=1e7,o=0,u=-1;for(var a=0;a<n;a++){for(i in v(r)[e])t=v(r)[i][e],parseInt(t)>parseInt(o)&&parseInt(t)<parseInt(s)&&(o=t);s=o,t=0,o=0}return parseInt(s)}function y(e){var t=e;for(;;){if(global.yearAvailable[t]==1)return t;if(global.yearAvailable[t]!=0)return 0;t--}}function b(){var e=0;for(i in global.gdp)parseInt(global.gdp[i])>parseInt(e)&&(e=global.gdp[i]);return parseInt(e)}function w(e,t){var n=t;switch(e){case"AF":return"rgba(127,168,44,"+n+")";case"EU":return"rgba(162,96,166,"+n+")";case"OC":return"rgba(168,44,44,"+n+")";case"NA":return"rgba(44,125,168,"+n+")";case"SA":return"rgba(168,44,94,"+n+")";case"AS":return"rgba(227,223,11,"+n+")";default:return"rgba(0,0,0,"+n+")"}return"rgba(255, 255, 255, 1)"}var r="",s="",o=[],u=[],a=[],f=[];for(i in n.countrycodes)f[n.countrycodes[i][0]]=n.countrycodes[i][1];return function(){var t=y(global.year),s=global.emigration?"Emigration to:<br/>":"Immigration from:<br/>";a=[];for(i in n.countryorder)a[n.countryorder[i]]="red";var h=b(),p=0,d="";for(i in global.continent){p=parseInt(global.gdp[f[i]])/parseInt(h),isNaN(p)?p=1:p=1;switch(global.continent[i]){case"AF":a[f[i]]={color:w("AF",p),value:null};break;case"EU":a[f[i]]={color:w("EU",p),value:null};break;case"OC":a[f[i]]={color:w("OC",p),value:null};break;case"NA":a[f[i]]={color:w("NA",p),value:null};break;case"SA":a[f[i]]={color:w("SA",p),value:null};break;case"AS":a[f[i]]={color:w("AS",p),value:null};break;default:a[f[i]]={fillKey:"default",value:null}}}var E=0,d=global.id;if(global.emigration==1){r=n.countryorder.indexOf(d);if(r!==-1){o=[],E=m(r,8),E<1&&(E=1);for(i in v(t))v(t)[r][i]>=E&&(global.year==e("#slider").slider("option","value")&&(v(t)[r][i]=parseInt(v(t)[r][i])+parseInt(Math.random())*1e3-500),v(t)[r][i]<0&&(v(t)[r][i]=0),l(o,r,i,v(t)[r][i]),a[n.countryorder[i]].value=v(t)[r][i],s+=n.countryorder[i]+" "+v(t)[r][i]+"<br/>");global.map.arc(o)}}else{r=n.countryorder.indexOf(d);if(r!==-1){o=[],E=g(r,10),E<1&&(E=1);for(i in v(t))v(t)[i][r]>=E&&(global.year==e("#slider").slider("option","value")&&(v(t)[r][i]=parseInt(v(t)[r][i])+parseInt(Math.random())*100-50),v(t)[r][i]<0&&(v(t)[r][i]=0),l(o,i,r,v(t)[i][r]),a[n.countryorder[r]].value=v(t)[i][r],s+=n.countryorder[i]+" "+v(t)[i][r]+"<br/>");global.map.arc(o)}}global.map.updateChoropleth(a),u=[];for(i in global.war)global.war[i].start<=global.year&&global.war[i].end>=global.year&&c(u,global.war[i]);global.map.bubbles(u,global.map.options.bubblesConfig),e("#title").text(global.country),e("#description").html(s)}}),define("readdata",["jquery","d3","topojson","datamaps","jqueryui","map/util"],function(e,t){var n=[],r=1960,i=2e3,s=10,o=!1,u=[];for(var a=r;a<=i;a+=s){var f=a.toString();t.text("http://giacomogiudice.github.io/awesomeville/raw/"+f+".csv",function(e){n.push(t.csv.parseRows(e)),(i-r)/s==n.length&&(o=!0,global.migrationData=n)})}t.csv("http://giacomogiudice.github.io/awesomeville/raw/GDP.csv",function(e){global.gdpData=e}),t.csv("http://giacomogiudice.github.io/awesomeville/raw/countryByContinent.csv",function(t){e.each(t,function(e,t){t["Africa"]!=""&&(u[t.Africa]="AF"),t["Europe"]!=""&&(u[t.Europe]="EU"),t["Asia"]!=""&&(u[t.Asia]="AS"),t["North America"]!=""&&(u[t["North America"]]="NA"),t["South America"]!=""&&(u[t["South America"]]="SA"),t["Oceania"]!=""&&(u[t.Oceania]="OC"),global.continent=u})}),t.csv("http://giacomogiudice.github.io/awesomeville/raw/warData.csv",function(e){return{name:e["Name of War"],code:e["Country code"],start:+e["Start year"],end:+e["End year"],size:+e.Fatalities}},function(e,t){global.war=t})}),define("map/drawMap",["jquery","d3","topojson","datamaps","jqueryui","map/updateMap","readdata"],function(e,t,n,r,i,s){var o=new r({element:e("#mapContainer")[0],width:e("#container").width()*.75,projection:"mercator",data:{},fills:{defaultFill:"#333333",africa:"#f39c12",europe:"#2980b9",oceania:"#16a085",north_america:"#e74c3c",south_america:"#2ecc71",asia:"#9b59b6"},geographyConfig:{highlightOnHover:!1,popupTemplate:function(e,t){return t===null||t.value===null?'<div class="hoverlabel">'+e.properties.name+"</div>":'<div class="hoverlabel">'+e.properties.name+"<br/>"+Math.round(t.value/1e3)+"K </div>"}},bubblesConfig:{highlightOnHover:!1,borderWidth:0,borderColor:"red",fillOpacity:.75,popupTemplate:function(e,t){return'<div class="hoverlabel">'+t.name+"<br/>"+Math.round(t.size/1e3)+" thousand casualties between "+t.start+" and "+t.end+"</div>"}}});return o.update=function(){s()},o.svg.selectAll(".datamaps-subunit").on("click",function(e){global.country=e.properties.name,global.id=e.id,o.update()}),o}),define("init",["jquery","map/drawMap","map/updateMap","jqueryui"],function(e,t,n){e(function(){function i(e){for(r in global.gdpData)global.gdp[global.gdpData[r]["Country Code"]]=global.gdpData[r][e]}function s(){var t=e("#slider").slider("option","value");t+=.05,e("#slider").slider("value",t),t=parseInt(e("#slider").slider("option","value")),global.year=t,i(t),e("#currentSliderValue").html(t),global.map.update()}e("#mapContainer").width(e("#container").width()*.75),e("#selectable").selectable();var n=[];for(var r=0;r<50;r++)r%10==0?global.yearAvailable[1960+r]=!0:global.yearAvailable[1960+r]=!1;e("#slider").slider({value:1970,min:1960,max:2e3,step:.01,animate:100,slide:function(t,n){global.year=parseInt(n.value),i(parseInt(r.value)),global.map.update(),e("#currentSliderValue").html(parseInt(n.value))}});var o;e("#play").button().click(function(t){t.preventDefault(),global.play==0?(e("#play .ui-button-text").html("&#9616;&#9616;"),global.play=!0,o=setInterval(function(){s()},10)):(e("#play .ui-button-text").html("&#9658; "),global.play=!1,clearInterval(o))}),e("#migration-in").click(function(){global.emigration=!1,e("#migration-in").attr("class","selected"),e("#migration-out").attr("class","unselected"),global.map.update()}),e("#migration-out").click(function(){global.emigration=!0,e("#migration-in").attr("class","unselected"),e("#migration-out").attr("class","selected"),global.map.update()}),global.year=1970,i(),e("#currentSliderValue").html(e("#slider").slider("option","value")),global.map=t})}),require.config({paths:{readdata:"tools/readData",jquery:"https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min",d3:"http://d3js.org/d3.v3.min",topojson:"http://d3js.org/topojson.v1.min",datamaps:"lib/datamaps.world.min",jqueryui:"https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min"},shim:{d3:{exports:"d3"},topojson:{deps:["d3"],exports:"topojson"},datamaps:{deps:["d3","topojson"]},jqueryui:{deps:["jquery"],exports:"$"}}}),requirejs(["init"]),define("main",function(){});